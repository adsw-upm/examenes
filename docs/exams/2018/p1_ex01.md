---
id: ex-2018-01
year: 2018
exam: parcial 1
tags:
 - grafos
---

En el ejercicio 1 de la asignatura se han recorrido los nodos de un grafo. Utilizando las clases Graph, Node y Link de ese mismo ejercicio, se pide codificar un nuevo método de Graph:
```java
public List<Node> reachableNodes(Node src)
```
que devuelve una lista de todos los nodos del grafo, obtenida recorriendo el grafo desde un nodo inicial (src). 

En el ejercicio 2 se ha propuesto usar la clase Map para reducir el tiempo de ejecución de algunos métodos. 

- (a) (2 puntos) Use la clase Map en la solución para mejorar el tiempo de ejecución del método reachableNodes(). Justifique la mejora que se consigue con su utilización.


??? note "Mostrar solución"
    Una posible solución, basada en el recorrido que usa BFS, se muestra a continuación. Se mejora la complejidad al usar un HahsSet para comprobar si ya hemos visitado un nodo. Si se usa otro algoritmo para componer la lista de nodos a visitar, se debería usar una estrategia similar.
    ```java
    List<Node> queue = new ArrayList<Node>();
    List<Node> list = new ArrayList<Node>();

    list.add(src);
    queue.add(src);

    Set<Node> visited = new HashSet<>();
    visited.add(src);

    while (queue.size() > 0) {
        Node node = queue.remove(0);
        for (Link link : graph.getLinks(node)) {
            Node next = graph.getNode(link.getDst());
            if (visited.contains(next))
                continue;
            list.add(next);
            queue.add(next);
            visited.add(next);
        }
    }

    return list;
    ```
