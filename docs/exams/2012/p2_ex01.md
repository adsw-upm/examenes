---
id: ex-2012-02
year: 2012
exam: parcial 2
tags:
  - complejidad
---
## A. (2 puntos)
Sean las dos clases siguientes, con dos implementaciones de un método que intercambia el valor de dos variables. Explique, justificando la respuesta, si estas implementaciones son adecuadas para ser invocadas concurrentemente por un conjunto de hebras (threads).
```java
public class Swap1 {
    private int aux;
    public void swap (int a, int b) {
        aux = a;
        a = b;
        b = aux;
    }
}
public class Swap2 {
    public void swap (int a, int b) {
        int aux = a;
        a = b;
        b = aux;
    }
}
```
??? note "Mostrar solución"
    Cuando varias hebras comparten un objeto de la clase Swap1 pueden utilizar simultáneamente la variable aux al invocar el método swap. Por tanto, swap debería ser un método sincronizado, y esta implementación es inadecuada para usarla en un contexto concurrente, ya que se pueden producir condiciones de carrera en el acceso a aux.

    Por el contrario, en Swap2 la variable aux es local al método swap, y cada hebra que lo invoca usa su propia copia de aux. Por tanto, no hay variables compartidas y no es necesario que swap sea sincronizado. Esta implementación puede usarse sin problemas en un contexto concurrente.